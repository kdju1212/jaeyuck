<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/base}">

<head>
<title>레시피 수정</title>
<link rel="stylesheet" th:href="@{/css/register.css}"
	layout:fragment="styles">
</head>

<body>
	<div layout:fragment="content">
		<div style="margin-top: 20px;"></div>
		<div class="blank_bottom"></div>
		<h2>레시피 수정</h2>
		<p>' * ' 표시 항목은 필수 입력 항목입니다.</p>
		<form id="registerForm" th:action="@{/list/updateCooks}" method="post"
			enctype="multipart/form-data" name="register_form"
			onsubmit="return registerForm(event)">
			<input type="hidden" name="oldName" th:value="${cookInfo.CKG_NM}"
				id="oldName" /> <input type="hidden" name="cook_no"
				th:value="${cookInfo.cook_no}" id="cook_no" />

			<div class="form-group">
				<label for="CKG_NM">요리 이름 *</label> <input type="text" name="CKG_NM"
					id="CKG_NM" th:value="${cookInfo.CKG_NM}">
			</div>

			<div th:if="${not #strings.isEmpty(cookInfo.CKG_IMG_URL)}">
				<div class="form-group">
					<label>요리 이미지</label>
					<div class="image-preview-container">
						<img th:src="@{'/libraryUploadImg/' + ${cookInfo.CKG_IMG_URL}}"
							alt="현재 이미지" class="current-image">
						<button type="button" class="btn-delete-image"
							onclick="deleteImage()">이미지 삭제</button>
					</div>
					<input type="hidden" name="deleteImageFlag" id="deleteImageFlag"
						value="N">
				</div>
			</div>

			<div class="form-group">
				<label for="CKG_IMG_FILE">새로운 이미지 업로드</label> <input type="file"
					name="CKG_IMG_FILE" id="CKG_IMG_FILE" accept="image/*">
			</div>

			<div class="form-group">
				<label for="category">분류 *</label> <select name="category"
					id="category" class="input-field">
					<option value="">선택하세요</option>
					<option value="한식" th:selected="${cookInfo.category == '한식'}">한식</option>
					<option value="양식" th:selected="${cookInfo.category == '양식'}">양식</option>
					<option value="일식" th:selected="${cookInfo.category == '일식'}">일식</option>
					<option value="중식" th:selected="${cookInfo.category == '중식'}">중식</option>
				</select>
			</div>

			<div class="form-group">
				<label for="ingredients">재료 *</label> <input type="text"
					name="ingredients" id="ingredients" class="input-field"
					th:value="${cookInfo.ingredients != null ? #strings.arrayJoin(cookInfo.ingredients, ', ') : ''}">
			</div>

			<div class="form-group">
				<label for="step1">레시피 1 *</label> <input type="text" name="step1"
					id="step1" th:value="${cookInfo.step1}">
			</div>
			<li class="form-group"><label for="step2">레시피 2</label> <input
				type="text" name="step2" id="step2" th:value="${cookInfo.step2}">
			</li>
			<li class="form-group"><label for="step3">레시피 3</label> <input
				type="text" name="step3" id="step3" th:value="${cookInfo.step3}">
			</li>
			<li class="form-group"><label for="step4">레시피 4</label> <input
				type="text" name="step4" id="step4" th:value="${cookInfo.step4}">
			</li>
			<li class="form-group"><label for="step5">레시피 5</label> <input
				type="text" name="step5" id="step5" th:value="${cookInfo.step5}">
			</li>
			<li class="form-group"><label for="step6">레시피 6</label> <input
				type="text" name="step6" id="step6" th:value="${cookInfo.step6}">
			</li>
			<li class="form-group"><label for="step7">레시피 7</label> <input
				type="text" name="step7" id="step7" th:value="${cookInfo.step7}">
			</li>
			<li class="form-group"><label for="step8">레시피 8</label> <input
				type="text" name="step8" id="step8" th:value="${cookInfo.step8}">
			</li>
			<li class="form-group"><label for="step9">레시피 9</label> <input
				type="text" name="step9" id="step9" th:value="${cookInfo.step9}">
			</li>
			<li class="form-group"><label for="step10">레시피 10</label> <input
				type="text" name="step10" id="step10" th:value="${cookInfo.step10}">
			</li>
			<li class="form-group"><label for="step11">레시피 11</label> <input
				type="text" name="step11" id="step11" th:value="${cookInfo.step11}">
			</li>
			<li class="form-group"><label for="step12">레시피 12</label> <input
				type="text" name="step12" id="step12" th:value="${cookInfo.step12}">
			</li>
			<li class="form-group"><label for="step13">레시피 13</label> <input
				type="text" name="step13" id="step13" th:value="${cookInfo.step13}">
			</li>
			<li class="form-group"><label for="step14">레시피 14</label> <input
				type="text" name="step14" id="step14" th:value="${cookInfo.step14}">
			</li>
			<li class="form-group"><label for="step15">레시피 15</label> <input
				type="text" name="step15" id="step15" th:value="${cookInfo.step15}">
			</li>
			<li class="form-group"><label for="step16">레시피 16</label> <input
				type="text" name="step16" id="step16" th:value="${cookInfo.step16}">
			</li>
			<li class="form-group"><label for="step17">레시피 17</label> <input
				type="text" name="step17" id="step17" th:value="${cookInfo.step17}">
			</li>
			<li class="form-group"><label for="step18">레시피 18</label> <input
				type="text" name="step18" id="step18" th:value="${cookInfo.step18}">
			</li>
			<li class="form-group"><label for="step19">레시피 19</label> <input
				type="text" name="step19" id="step19" th:value="${cookInfo.step19}">
			</li>
			<li class="form-group"><label for="step20">레시피 20</label> <input
				type="text" name="step20" id="step20" th:value="${cookInfo.step20}">
			</li>

			<div class="form-actions">
				<input type="submit" value="수정" class="btn btn-register">
			</div>
		</form>
	</div>
	<script th:src="@{/js/register.js}" layout:fragment="scripts"></script>
</body>

</html>