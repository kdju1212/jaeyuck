<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<body>
    <div th:fragment="header">
        <header>
            <nav>
                <ul class="My-site">
                    <li><a th:href="@{/list}">푸드코드</a></li>
                </ul>
                <ul class="flex-menu">
                    <li th:if="${loginedMemberVo == null or #strings.isEmpty(loginedMemberVo.userid)}">
                        <a th:href="@{/list}">홈</a>
                    </li>
                    <li class="dropdown" th:if="${loginedMemberVo == null or #strings.isEmpty(loginedMemberVo.userid)}">
                        <a href="javascript:void(0)">카테고리</a>
                        <ul class="dropdown-menu">
                            <li><a th:href="@{/list/filter(category='한식')}">한식</a></li>
                            <li><a th:href="@{/list/filter(category='중식')}">중식</a></li>
                            <li><a th:href="@{/list/filter(category='일식')}">일식</a></li>
                            <li><a th:href="@{/list/filter(category='양식')}">양식</a></li>
                            <li><a th:href="@{/list/filter(category='기타')}">기타</a></li>
                        </ul>
                    </li>
                    <li th:if="${loginedMemberVo == null or #strings.isEmpty(loginedMemberVo.userid)}">
                        <a th:href="@{/list/ranking}">랭킹</a>
                    </li>
                    <li th:if="${loginedMemberVo == null or #strings.isEmpty(loginedMemberVo.userid)}">
                        <a th:href="@{/member/loginForm}">로그인</a>
                    </li>

                    <th:block th:if="${loginedMemberVo != null and !#strings.isEmpty(loginedMemberVo.userid)}">
                        <th:block th:if="${loginedMemberVo.userid != 'admin'}">
                            <li><a th:href="@{/list}">홈</a></li>
                            <li class="dropdown"><a href="javascript:void(0)">카테고리</a>
                                <ul class="dropdown-menu">
                                    <li><a th:href="@{/list/filter(category='한식')}">한식</a></li>
                                    <li><a th:href="@{/list/filter(category='중식')}">중식</a></li>
                                    <li><a th:href="@{/list/filter(category='일식')}">일식</a></li>
                                    <li><a th:href="@{/list/filter(category='양식')}">양식</a></li>
                                    <li><a th:href="@{/list/filter(category='기타')}">기타</a></li>
                                </ul>
                            </li>
                            <li><a th:href="@{/list/ranking}">랭킹</a></li>
                            <li><a th:href="@{/member/myPage}">마이페이지</a></li>
                            <li><a th:href="@{/member/logoutConfirm}" onclick="return logoutCheck()">로그아웃</a></li>
                            <li><a th:href="@{/message}">쪽지함</a></li>
                            <li class="welcome-message">&nbsp;&nbsp;&nbsp;<span th:text="${loginedMemberVo.name}"></span>님&nbsp;</li>
                        </th:block>
                        <th:block th:if="${loginedMemberVo.userid == 'admin'}">
                            <li><a th:href="@{/list}">홈</a></li>
                            <li><a th:href="@{/list/recipeList}">레시피 등록</a></li>
                            <li><a th:href="@{/member/logoutConfirm}" onclick="return logoutCheck()">로그아웃</a></li>
                            <li><a th:href="@{/message}">쪽지함</a></li>
                            <li class="welcome-message">&nbsp;&nbsp;관리자 모드</li>
                        </th:block>
                    </th:block>
                </ul>
            </nav>
        </header>
    </div>
</body>
</html>