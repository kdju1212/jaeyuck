<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>메시지 상세</title>
<script th:inline="javascript">
	var contextPath = /*[[@{/}]]*/ '';
</script>
<script th:src="@{/js/message.js}"></script>
<link rel="stylesheet" th:href="@{/css/message.css}">
</head>
<body>
<div style="margin-top: 20px;"></div>
<div class="blank_bottom"></div>
<div class="blank_bottom"></div>
	<div class="message-info">
		<ul class="message-details">
			<li><span class="label">송신자</span><span class="value" th:text="${messageInfo.send_id_name}"></span></li>
			<li><span class="label">송신자 ID</span><span class="value" th:text="${messageInfo.send_id}"></span></li>
			<li><span class="label">수신자</span><span class="value" th:text="${messageInfo.get_id_name}"></span></li>
			<li><span class="label">제목</span><span class="value message-title" th:text="${messageInfo.title}"></span></li>
			<li><span class="label">내용</span><span class="value message-title" th:text="${messageInfo.content}"></span></li>
			<li><span class="label">보낸 시각</span><span class="value" th:text="${messageInfo.send_date}"></span></li>
		</ul>
		<div class="buttons">
			<button th:if="${loginedMemberVo.userid == messageInfo.send_id and loginedMemberVo.userid != messageInfo.get_id}"
				class="btn btn-primary" th:onclick="|location.href='@{/message/sendMessageList}'|">목록</button>

			<button th:if="${loginedMemberVo.userid == messageInfo.get_id and loginedMemberVo.userid != messageInfo.send_id}"
				class="btn btn-primary" th:onclick="|location.href='@{/message}'|">목록</button>
			<button th:if="${loginedMemberVo.userid == messageInfo.get_id and loginedMemberVo.userid != messageInfo.send_id}"
				class="btn btn-danger" th:onclick="|if(confirm('정말 삭제하시겠습니까?')) { location.href='@{/message/messageDelete(message_no=${messageInfo.message_no})}' }|">삭제</button>

			<button th:if="${loginedMemberVo.userid == messageInfo.get_id and loginedMemberVo.userid == messageInfo.send_id}"
				class="btn btn-primary" th:onclick="|location.href='@{/message}'|">목록</button>
			<button th:if="${loginedMemberVo.userid == messageInfo.get_id and loginedMemberVo.userid == messageInfo.send_id}"
				class="btn btn-danger" th:onclick="|if(confirm('정말 삭제하시겠습니까?')) { location.href='@{/message/messageDelete(message_no=${messageInfo.message_no})}' }|">삭제</button>

			<button th:if="${loginedMemberVo.userid == messageInfo.get_id and messageInfo.send_id != 'admin'}"
				class="btn btn-secondary" th:onclick="|location.href='@{/message/messageSendForm(get_id=${messageInfo.send_id}, message_no=${messageInfo.message_no})}'|">답장</button>

		</div>
	</div>
</body>
</html>